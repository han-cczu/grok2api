<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grok2API - Image Editor 图片编辑</title>
  <link rel="icon" href="/static/common/img/favicon/favicon.ico">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/geist@1.0.0/dist/fonts/geist-sans/style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/geist@1.0.0/dist/fonts/geist-mono/style.css" rel="stylesheet">
  <link href="/static/common/css/common.css?v=0.3.0" rel="stylesheet">
  <link href="/static/public/css/editor.css?v=0.3.0" rel="stylesheet">
  <link href="/static/common/css/toast.css" rel="stylesheet">
</head>

<body class="min-h-screen flex flex-col" style="background-color: var(--bg);">
  <div id="toast-container" class="toast-container"></div>
  <div id="app-header"></div>

  <main class="editor-main fade-in">

    <!-- Mode badge -->
    <div id="modeBadge" class="editor-mode-badge">文生图模式</div>

    <!-- Canvas -->
    <div class="editor-canvas" id="editorCanvas">
      <div id="canvasPlaceholder" class="editor-canvas-placeholder">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <circle cx="8.5" cy="8.5" r="1.5"></circle>
          <polyline points="21 15 16 10 5 21"></polyline>
        </svg>
        <span>输入提示词生成图片，或上传图片进行编辑</span>
      </div>
      <img id="canvasImage" class="editor-canvas-img" style="display:none;" alt="Generated image">
      <div id="loadingIndicator" style="display:none;">
        <div class="editor-loading"></div>
        <div class="editor-loading-text">正在生成图片…</div>
      </div>
    </div>

    <!-- Canvas actions -->
    <div id="canvasActions" class="editor-canvas-actions" style="display:none;">
      <button id="downloadBtn" title="下载图片">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        下载
      </button>
      <button id="editContinueBtn" title="用此图继续编辑">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"></path>
          <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"></path>
        </svg>
        继续编辑
      </button>
    </div>

    <!-- History strip -->
    <div class="editor-history" id="historyStrip">
      <span class="editor-history-empty">暂无历史</span>
    </div>

    <!-- Upload preview -->
    <div id="uploadPreview" class="editor-upload-preview">
      <img id="uploadThumb" class="editor-upload-thumb" src="" alt="upload">
      <span id="uploadLabel" class="editor-upload-label"></span>
      <button id="uploadRemove" class="editor-upload-remove" title="移除">&times;</button>
    </div>

    <!-- Input bar -->
    <div class="editor-input-section">
      <div class="editor-input-bar">
        <label id="attachBtn" for="fileInput" class="editor-attach-btn" title="上传图片">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"></path>
          </svg>
        </label>
        <textarea id="promptInput" rows="1" placeholder="输入提示词描述你想要的图片…"></textarea>
        <select id="ratioSelect" class="editor-ratio-select">
          <option value="1:1">1:1</option>
          <option value="16:9">16:9</option>
          <option value="9:16">9:16</option>
          <option value="3:2">3:2</option>
          <option value="2:3">2:3</option>
        </select>
        <button id="sendBtn" class="editor-send-btn" title="生成">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
        </button>
      </div>
    </div>

    <!-- Hidden file input -->
    <input type="file" id="fileInput" accept="image/png,image/jpeg,image/webp" style="display:none;">
  </main>

  <div id="app-footer"></div>

  <script src="/static/common/js/admin-auth.js?v=0.3.0"></script>
  <script src="/static/common/js/public-header.js?v=0.3.0"></script>
  <script src="/static/common/js/footer.js?v=0.3.1"></script>
  <script src="/static/common/js/toast.js"></script>
  <script src="/static/public/js/editor.js?v=0.3.0"></script>
</body>

</html>
